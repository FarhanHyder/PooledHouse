{"ast":null,"code":"\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction calcKey(file, fileToKey) {\n  var name = file.name,\n      size = file.size,\n      type = file.type;\n  var key = encodeURI(name);\n\n  if (fileToKey) {\n    var callback_type = typeof fileToKey;\n\n    if (callback_type === 'string') {\n      key = fileToKey;\n    } else if (callback_type === 'function') {\n      key = fileToKey({\n        name: name,\n        size: size,\n        type: type\n      });\n    } else {\n      key = encodeURI(JSON.stringify(fileToKey));\n    }\n\n    if (!key) {\n      key = 'empty_key';\n    }\n  }\n\n  return key.replace(/\\s/g, '_');\n}\n\nexports.calcKey = calcKey;","map":null,"metadata":{},"sourceType":"script"}