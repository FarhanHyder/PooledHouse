{"ast":null,"code":"\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar Authenticator_1 = require(\"./Authenticator\");\n\nvar Authenticator_2 = require(\"./Authenticator\");\n\nexports.Authenticator = Authenticator_2.default;\n\nvar AuthPiece_1 = require(\"./AuthPiece\");\n\nexports.AuthPiece = AuthPiece_1.default;\n\nvar SignIn_1 = require(\"./SignIn\");\n\nexports.SignIn = SignIn_1.default;\n\nvar ConfirmSignIn_1 = require(\"./ConfirmSignIn\");\n\nexports.ConfirmSignIn = ConfirmSignIn_1.default;\n\nvar SignOut_1 = require(\"./SignOut\");\n\nexports.SignOut = SignOut_1.default;\n\nvar RequireNewPassword_1 = require(\"./RequireNewPassword\");\n\nexports.RequireNewPassword = RequireNewPassword_1.default;\n\nvar SignUp_1 = require(\"./SignUp\");\n\nexports.SignUp = SignUp_1.default;\n\nvar ConfirmSignUp_1 = require(\"./ConfirmSignUp\");\n\nexports.ConfirmSignUp = ConfirmSignUp_1.default;\n\nvar VerifyContact_1 = require(\"./VerifyContact\");\n\nexports.VerifyContact = VerifyContact_1.default;\n\nvar ForgotPassword_1 = require(\"./ForgotPassword\");\n\nexports.ForgotPassword = ForgotPassword_1.default;\n\nvar Greetings_1 = require(\"./Greetings\");\n\nexports.Greetings = Greetings_1.default;\n\nvar FederatedSignIn_1 = require(\"./FederatedSignIn\");\n\nexports.FederatedSignIn = FederatedSignIn_1.default;\nexports.FederatedButtons = FederatedSignIn_1.FederatedButtons;\n\nvar TOTPSetup_1 = require(\"./TOTPSetup\");\n\nexports.TOTPSetup = TOTPSetup_1.default;\n\nvar Loading_1 = require(\"./Loading\");\n\nexports.Loading = Loading_1.default;\n\n__export(require(\"./Provider\"));\n\nfunction withAuthenticator(Comp, includeGreetings, authenticatorComponents, federated, theme, signUpConfig) {\n  if (includeGreetings === void 0) {\n    includeGreetings = false;\n  }\n\n  if (authenticatorComponents === void 0) {\n    authenticatorComponents = [];\n  }\n\n  if (federated === void 0) {\n    federated = null;\n  }\n\n  if (theme === void 0) {\n    theme = null;\n  }\n\n  if (signUpConfig === void 0) {\n    signUpConfig = {};\n  }\n\n  return (\n    /** @class */\n    function (_super) {\n      __extends(class_1, _super);\n\n      function class_1(props) {\n        var _this = _super.call(this, props) || this;\n\n        _this.handleAuthStateChange = _this.handleAuthStateChange.bind(_this);\n        _this.state = {\n          authState: props.authState || null,\n          authData: props.authData || null\n        };\n        _this.authConfig = {};\n\n        if (typeof includeGreetings === 'object' && includeGreetings !== null) {\n          _this.authConfig = Object.assign(_this.authConfig, includeGreetings);\n        } else {\n          _this.authConfig = {\n            includeGreetings: includeGreetings,\n            authenticatorComponents: authenticatorComponents,\n            federated: federated,\n            theme: theme,\n            signUpConfig: signUpConfig\n          };\n        }\n\n        return _this;\n      }\n\n      class_1.prototype.handleAuthStateChange = function (state, data) {\n        this.setState({\n          authState: state,\n          authData: data\n        });\n      };\n\n      class_1.prototype.render = function () {\n        var _a = this.state,\n            authState = _a.authState,\n            authData = _a.authData;\n        var signedIn = authState === 'signedIn';\n\n        if (signedIn) {\n          return React.createElement(React.Fragment, null, this.authConfig.includeGreetings ? React.createElement(Authenticator_1.default, __assign({}, this.props, {\n            theme: this.authConfig.theme,\n            federated: this.authConfig.federated || this.props.federated,\n            hideDefault: this.authConfig.authenticatorComponents && this.authConfig.authenticatorComponents.length > 0,\n            signUpConfig: this.authConfig.signUpConfig,\n            onStateChange: this.handleAuthStateChange,\n            children: this.authConfig.authenticatorComponents || []\n          })) : null, React.createElement(Comp, __assign({}, this.props, {\n            authState: authState,\n            authData: authData,\n            onStateChange: this.handleAuthStateChange\n          })));\n        }\n\n        return React.createElement(Authenticator_1.default, __assign({}, this.props, {\n          theme: this.authConfig.theme,\n          federated: this.authConfig.federated || this.props.federated,\n          hideDefault: this.authConfig.authenticatorComponents && this.authConfig.authenticatorComponents.length > 0,\n          signUpConfig: this.authConfig.signUpConfig,\n          onStateChange: this.handleAuthStateChange,\n          children: this.authConfig.authenticatorComponents || []\n        }));\n      };\n\n      return class_1;\n    }(react_1.Component)\n  );\n}\n\nexports.withAuthenticator = withAuthenticator;\n\nvar AuthenticatorWrapper =\n/** @class */\nfunction (_super) {\n  __extends(AuthenticatorWrapper, _super);\n\n  function AuthenticatorWrapper(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      auth: 'init'\n    };\n    _this.handleAuthState = _this.handleAuthState.bind(_this);\n    return _this;\n  }\n\n  AuthenticatorWrapper.prototype.handleAuthState = function (state, data) {\n    this.setState({\n      auth: state,\n      authData: data\n    });\n  };\n\n  AuthenticatorWrapper.prototype.render = function () {\n    return React.createElement(\"div\", null, React.createElement(Authenticator_1.default, __assign({}, this.props, {\n      onStateChange: this.handleAuthState\n    })), this.props.children(this.state.auth));\n  };\n\n  return AuthenticatorWrapper;\n}(react_1.Component);\n\nexports.AuthenticatorWrapper = AuthenticatorWrapper;","map":null,"metadata":{},"sourceType":"script"}